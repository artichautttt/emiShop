<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top py-2"
     style="box-shadow: 0 4px 10px rgba(0,0,0,0.3);">

  <div class="container">

    <a class="navbar-brand fw-bold d-flex align-items-center" routerLink="/">
      <i class="bi bi-shop fs-4 text-warning me-2"></i>
      <span class="fs-5 text-white">emiShop</span>
    </a>

    <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
      <span class="navbar-toggler-icon" style="transform: scale(0.8);"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ms-auto align-items-center gap-3">

        <li class="nav-item">
          <a class="nav-link fw-medium small" routerLink="/"
             routerLinkActive="text-warning fw-bold"
             [routerLinkActiveOptions]="{exact: true}">
            Accueil
          </a>
        </li>

        <li class="nav-item position-relative">
          <a class="nav-link text-white py-1" routerLink="/panier">
            <div class="bg-white rounded-circle d-flex align-items-center justify-content-center text-dark"
                 style="width: 38px; height: 38px;">
              <i class="bi bi-cart3 fs-6"></i>
            </div>

            @if (cartCount > 0) {
              <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger border border-dark"
                    style="transform: scale(0.8) translate(-50%, 50%) !important;">
                {{ cartCount }}
              </span>
            }
          </a>
        </li>

        <li class="nav-item">
          @if (currentUser) {
            <div class="d-flex align-items-center gap-2 bg-white px-3 py-1 rounded-pill">
              <span class="fw-bold text-dark" style="font-size: 0.8rem;">
                {{ currentUser.email }}
              </span>
              <button (click)="logout()"
                      class="btn btn-sm btn-dark text-white rounded-circle d-flex align-items-center justify-content-center"
                      style="width: 28px; height: 28px; padding: 0;">
                <i class="bi bi-power" style="font-size: 0.8rem;"></i>
              </button>
            </div>
          } @else {
            <a routerLink="/auth" class="btn btn-warning btn-sm fw-bold px-3 rounded-pill text-dark" style="font-size: 0.85rem;">
              Connexion
            </a>
          }
        </li>

      </ul>
    </div>
  </div>
</nav>
